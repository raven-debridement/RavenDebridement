<!--  -->
<launch>

    <!-- Launches cameras -->
    <include file="$(find raven_2_vision)/launch/prosilica/stereo_BC.launch" />
    <!--<include file="$(find RavenDebridement)/launch/stereo_AD.launch" />-->

    <!-- Creates static transform from 0_link to camera_link (the primesense) -->
    <node pkg="tf" type="static_transform_publisher" name="zero_link_camera_link" args="-0.001 0.269 0.148 -1.500 0.589 0.052 0_link camera_link 100" />

    <!-- For AR marker detection -->
    <!--<include file="$(find stereo_marker_detect)/launch/stereo_detector.launch" />-->
    
    <node name="color_gripper_segmenter_R" type="color_gripper_segmenter"  pkg="raven_pose_estimator" output="screen">
        <param name="arm" type="string" value="R" />
    </node>
        
    <node name="color_gripper_segmenter_L" type="color_gripper_segmenter"  pkg="raven_pose_estimator" output="screen">
        <param name="arm" type="string" value="L" />
    </node>
    
    <include file="$(find RavenDebridement)/launch/IK_server.launch" />

    <!-- Viewers for segmented gripper points -->
    <node pkg="image_view" type="image_view" name="L_blue_left" output="screen">
        <param name="image" type="string" value="/L_blue_left" />
    </node>
    <node pkg="image_view" type="image_view" name="L_blue_right" output="screen">
        <param name="image" type="string" value="/L_blue_right" />
    </node>
    <node pkg="image_view" type="image_view" name="L_purple_left" output="screen">
        <param name="image" type="string" value="/L_purple_left" />
    </node>
    <node pkg="image_view" type="image_view" name="L_purple_right" output="screen">
        <param name="image" type="string" value="/L_purple_right" />
    </node>
    <node pkg="image_view" type="image_view" name="R_green_left" output="screen">
        <param name="image" type="string" value="/R_green_left" />
    </node>
    <node pkg="image_view" type="image_view" name="R_green_right" output="screen">
        <param name="image" type="string" value="/R_green_right" />
    </node>
    <node pkg="image_view" type="image_view" name="R_orange_left" output="screen">
        <param name="image" type="string" value="/R_orannge_left" />
    </node>
    <node pkg="image_view" type="image_view" name="R_orange_right" output="screen">
        <param name="image" type="string" value="/R_orannge_right" />
    </node>
    
    <!-- Foam pose detection -->
    <node name="foam_poses" type="foam_segmenter" pkg="RavenDebridement" output="screen">
        <remap from="disparity" to="BC/disparity" />
        <remap from="left/camera_info" to="BC/left/camera_info" />
        <remap from="right/camera_info" to="BC/right/camera_info" />
        <remap from="left/image_rect_color" to="BC/left/image_rect_color" />
        <remap from="right/image_rect_color" to="BC/right/image_rect_color" />
    </node>

</launch>

